{"version":3,"file":"index.umd.js","sources":["../src/theme.ts","../node_modules/compute-scroll-into-view/dist/index.module.js","../src/use-select.ts","../node_modules/@tanstack/react-virtual/build/lib/_virtual/_rollupPluginBabelHelpers.mjs","../node_modules/@tanstack/virtual-core/build/lib/_virtual/_rollupPluginBabelHelpers.mjs","../node_modules/@tanstack/virtual-core/build/lib/utils.mjs","../node_modules/@tanstack/virtual-core/build/lib/index.mjs","../node_modules/@tanstack/react-virtual/build/lib/index.mjs","../src/MultiSelect.tsx"],"sourcesContent":["import { mode } from '@chakra-ui/theme-tools'\n\nconst parts = [\n  'item',\n  'selectedItem',\n  'list',\n  'textList',\n  'selectedList',\n  'actionGroup',\n  'control',\n  'input',\n  'button',\n  'groupTitle',\n  'divider',\n  'label',\n]\n\nfunction baseStyleList(props: Record<string, any>) {\n  return {\n    bg: mode(`#fff`, `gray.700`)(props),\n    boxShadow: mode(`sm`, `dark-lg`)(props),\n    color: 'inherit',\n    w: 'full',\n    py: '2',\n    zIndex: 1,\n    borderRadius: 'md',\n    borderWidth: '1px',\n    maxH: '64',\n    overflowY: 'auto',\n    overscrollBehaviorY: 'contain',\n  }\n}\n\nconst baseStyleSelectedList = {\n  display: 'flex',\n  flex: 1,\n  flexWrap: 'wrap',\n  alignItems: 'center',\n}\n\nconst baseStyleLabel = {\n  display: 'block',\n  textAlign: 'start',\n}\n\nfunction baseStyleItem(props: Record<string, any>) {\n  return {\n    cursor: 'pointer',\n    transition: 'background 50ms ease-out',\n    _focus: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n      boxShadow: 'outline',\n    },\n    _active: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n    },\n    _expanded: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n    },\n    _selected: {\n      bg: mode(`gray.100`, `whiteAlpha.300`)(props),\n    },\n    _disabled: {\n      opacity: 0.4,\n      cursor: 'not-allowed',\n    },\n  }\n}\n\nfunction baseStyleSelectedItem(props: Record<string, any>) {\n  return {\n    borderRadius: 'full',\n    variant: 'solid',\n    colorscheme: props.colorscheme,\n  }\n}\n\nfunction baseStyleButton(props: Record<string, any>) {\n  return {\n    variant: 'ghost',\n    _hover: {\n      bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n    },\n    _focus: {\n      bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n      boxShadow: 'outline',\n    },\n    _active: {\n      bg: mode(`gray.100`, `whiteAlpha.100`)(props),\n    },\n    colorscheme: props.colorscheme,\n  }\n}\n\nconst baseStyleControl = {\n  h: 'auto',\n  minW: 72,\n  pr: 1,\n}\n\n// eslint-disable-next-line\nconst baseStyleInput = (_props: Record<string, any>) => ({\n  bgColor: 'transparent',\n  appearance: 'none',\n  flex: 1,\n  outline: 0,\n})\n\nconst baseStyleActionGroup = {\n  display: 'flex',\n  alignItems: 'center',\n}\n\nconst baseStyleGroupTitle = {\n  fontWeight: 'semibold',\n}\n\nconst baseStyleDivider = {\n  display: 'inline',\n  h: 'full',\n  border: 0,\n  borderColor: 'inherit',\n  my: 1,\n  opacity: 0.8,\n}\n\nconst baseStyle = (props: Record<string, any>) => ({\n  list: baseStyleList(props),\n  selectedList: baseStyleSelectedList,\n  item: baseStyleItem(props),\n  selectedItem: baseStyleSelectedItem(props),\n  button: baseStyleButton(props),\n  actionGroup: baseStyleActionGroup,\n  control: baseStyleControl,\n  input: baseStyleInput(props),\n  groupTitle: baseStyleGroupTitle,\n  divider: baseStyleDivider,\n  label: baseStyleLabel,\n})\n\nexport const sizes = {\n  sm: {\n    control: {\n      minH: 8,\n      spacing: 1,\n    },\n    input: {\n      p: 'px',\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    list: {\n      fontSize: 'sm',\n    },\n    item: {\n      py: 1,\n      px: 2,\n    },\n    textList: {\n      py: 0,\n      px: 1,\n    },\n    selectedItem: {\n      m: 'px',\n    },\n    selectedList: {\n      py: 'px',\n    },\n    groupTitle: {\n      mx: 2,\n      my: 1,\n      fontSize: 'sm',\n    },\n  },\n  md: {\n    control: {\n      minH: 10,\n      spacing: 1,\n    },\n    input: {\n      p: '2px',\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    list: {\n      fontSize: 'md',\n    },\n    item: {\n      py: 2,\n      px: 3,\n    },\n    textList: {\n      p: 1,\n    },\n    selectedItem: {\n      m: '2px',\n    },\n    selectedList: {\n      py: '2px',\n    },\n    groupTitle: {\n      mx: 4,\n      my: 2,\n      fontSize: 'sm',\n    },\n  },\n  lg: {\n    control: {\n      minH: 12,\n      spacing: 2,\n    },\n    input: {\n      p: 1,\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    list: {\n      fontSize: 'lg',\n    },\n    item: {\n      py: 2,\n      px: 3,\n    },\n    textList: {\n      py: 1,\n      px: 2,\n    },\n    selectedItem: {\n      m: 1,\n    },\n    selectedList: {\n      py: 1,\n    },\n    groupTitle: {\n      mx: 4,\n      my: 2,\n      fontSize: 'sm',\n    },\n  },\n}\n\nexport default {\n  defaultProps: {\n    size: 'md',\n  },\n  parts,\n  sizes,\n  baseStyle,\n}\n","function t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}export default function(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x=\"start\"===d||\"nearest\"===d?y:\"end\"===d?M:y+b/2,I=\"center\"===u?V+H/2:\"end\"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if(\"if-needed\"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-j-z:0,K=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F=\"start\"===d?x:\"end\"===d?x-g:\"nearest\"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G=\"start\"===u?I:\"center\"===u?I-m/2:\"end\"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F=\"start\"===d?x-R-q:\"end\"===d?x-Y+A+K:\"nearest\"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G=\"start\"===u?I-L-j:\"center\"===u?I-(L+O/2)+J/2:\"end\"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}\n//# sourceMappingURL=index.module.js.map\n","import {\n  useMultiStyleConfig,\n  usePopper,\n  UsePopperProps,\n  UsePopperReturn,\n  useStyles,\n} from '@chakra-ui/react'\nimport { EventKeys } from '@chakra-ui/utils'\nimport { createContext, mergeRefs } from '@chakra-ui/react-utils'\nimport {\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n  useMemo,\n  MutableRefObject,\n} from 'react'\nimport computeScrollIntoView from 'compute-scroll-into-view'\nexport interface Option {\n  label: string\n  value: string | number\n}\n\nexport interface SelectState {\n  searchValue: string\n  resolvedSearchValue: string\n  isOpen: boolean\n  highlightedIndex: number\n}\n\ntype AnyFunc = (...args: any[]) => any\n\nexport interface KeyMeta {\n  key?: EventKeys\n  keyCode?: EventKeys\n  shift?: boolean\n  meta?: boolean\n}\n\nexport type KeyboardEventHandler = (e: KeyboardEvent) => void\n\nexport type KeyHandler = () => void\n\nexport type ScrollToIndex = (\n  index: number,\n  ref: MutableRefObject<HTMLElement | undefined>,\n  optionsRef: MutableRefObject<HTMLElement | undefined>,\n  enabledRef: MutableRefObject<boolean>\n) => void\n\nexport type GetDebounce = (options: Option[]) => number\n\nexport enum ChangeActions {\n  SingleCreate = 'singleCreate', // eslint-disable-line\n  SingleRemove = 'singleRemove', // eslint-disable-line\n  SingleSelect = 'singleSelect', // eslint-disable-line\n  SingleClear = 'singleClear', // eslint-disable-line\n  MultiCreate = 'multiCreate', // eslint-disable-line\n  MultiRemove = 'multiRemove', // eslint-disable-line\n  MultiSelect = 'multiSelect', // eslint-disable-line\n  MultiClear = 'multiClear', // eslint-disable-line\n}\n\nexport type SelectOnChange = (\n  value: Option | Option[],\n  change?: {\n    action: ChangeActions\n    value: any\n  }\n) => void\n\nexport type GetOption = (option: string | { label: string; value: any }) => {\n  label: string\n  value: any\n}\n\nexport type SelectFilter = (\n  options: Option[],\n  searchValue: string | number,\n  getOption: GetOption\n) => Option[]\n\nexport type SelectRemoveValue = (index: number) => void\n\nexport type SelectSetOpen = (open: boolean) => void\n\nexport type SelectSetSearch = (searchValue: string) => void\n\nexport enum SelectActions {\n  SetOpen = 'setOpen', // eslint-disable-line\n  SetSearch = 'setSearch', // eslint-disable-line\n  HighlightIndex = 'highlightIndex', // eslint-disable-line\n}\n\nexport type SelectStateUpdater = (\n  updater: (old: SelectState) => SelectState,\n  action: SelectActions\n) => void\n\nexport type StateReducer = (\n  old: SelectState,\n  newState: SelectState,\n  action: SelectActions\n) => SelectState\n\nconst defaultMultiValue: any[] = []\nconst defaultOptions: Option[] = []\n\nconst initialState: SelectState = {\n  searchValue: '',\n  resolvedSearchValue: '',\n  isOpen: false,\n  highlightedIndex: 0,\n}\n\nfunction scrollIntoView(node: any, optionsNode: any) {\n  if (!node || !optionsNode) {\n    return\n  }\n  const actions = computeScrollIntoView(node, {\n    boundary: optionsNode,\n    block: 'nearest',\n    scrollMode: 'if-needed',\n  })\n  actions.forEach(({ el, top, left }) => {\n    el.scrollTop = top\n    el.scrollLeft = left\n  })\n}\nconst defaultStateReducer: StateReducer = (_, newState) => newState\nconst defaultScrollToIndex: ScrollToIndex = (\n  _,\n  inputRef,\n  optionsRef,\n  enabledRef\n) => {\n  if (enabledRef.current) {\n    scrollIntoView(inputRef.current, optionsRef.current)\n  }\n}\nexport const labelFromValue = (value: string): string =>\n  `${value.charAt(0).toUpperCase()}${value.substring(1)}`\nexport const idFromOption = (option: Option, prefix = ''): string =>\n  `${prefix}${option?.value}`\nconst defaultGetOption: GetOption = (option) =>\n  typeof option === 'string'\n    ? { value: option, label: labelFromValue(option) }\n    : option\nconst defaultGetDebounce: GetDebounce = (options) =>\n  options.length > 10000 ? 1000 : options.length > 1000 ? 200 : 0\n\nconst defaultFilterFn: SelectFilter = (options, searchValue, getOption) => {\n  return options\n    .filter((option) =>\n      getOption(option)\n        .value.toString()\n        .toLowerCase()\n        .includes(searchValue.toString().toLowerCase())\n    )\n    .sort((a) => {\n      return getOption(a)\n        .value.toString()\n        .toLowerCase()\n        .indexOf(searchValue.toString().toLowerCase())\n    })\n}\n\nfunction useDebounce(fn: AnyFunc, time = 0) {\n  const ref = useRef(null)\n  const fnRef = useRef()\n\n  fnRef.current = fn as any\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(ref.current as unknown as number)\n    }\n  }, [time])\n\n  return useCallback(\n    async (...args: any[]) => {\n      if (ref.current) {\n        clearTimeout(ref.current as unknown as number)\n      }\n      return new Promise((resolve, reject) => {\n        ref.current = setTimeout(() => {\n          ref.current = null\n          try {\n            resolve((fnRef.current as unknown as AnyFunc)(...args))\n          } catch (err) {\n            reject(err)\n          }\n        }, time) as any\n      })\n    },\n    [time]\n  )\n}\n\nfunction updateReducerState(state: any, newValue: any, key?: string): any {\n  if (!key) {\n    if (typeof newValue === 'function') {\n      return newValue(state)\n    }\n    return newValue\n  }\n  if (typeof newValue === 'function') {\n    const next = {\n      ...state,\n      [key]: newValue(state[key]),\n    }\n    return next\n  }\n  return {\n    ...state,\n    [key]: newValue,\n  }\n}\nfunction useHoistedState(\n  initialState: SelectState,\n  reducer: StateReducer\n): [SelectState, SelectStateUpdater] {\n  const reducerRef = useRef()\n  ;(reducerRef.current as any) = reducer\n  const [state, _setState] = useState(initialState)\n  const setState = useCallback(\n    (updater: (old: SelectState) => SelectState, action: SelectActions) => {\n      if (!action) {\n        throw new Error('An action type is required to update the state')\n      }\n      return _setState((old: SelectState) =>\n        (reducerRef.current as unknown as StateReducer)(\n          old,\n          updater(old),\n          action\n        )\n      )\n    },\n    [_setState]\n  )\n  return [state, setState]\n}\n\nconst useKeys = (userKeys: {\n  [K in EventKeys]: (opts: { shift: any; meta: any }, e?: any) => K | any\n}) => {\n  return ({ onKeyDown, ...rest } = {} as any) => {\n    return {\n      ...rest,\n      onKeyDown: (e: KeyboardEvent) => {\n        const { keyCode, key, shiftKey: shift, metaKey: meta } = e\n        const handler = userKeys[key] || userKeys[keyCode]\n        if (handler) {\n          handler(\n            {\n              keyCode,\n              key,\n              shift,\n              meta,\n            },\n            e\n          )\n        }\n        if (onKeyDown) {\n          onKeyDown(e)\n        }\n      },\n    }\n  }\n}\n\nexport enum SelectionVisibilityMode {\n  List = 'list',\n  Input = 'input',\n  Both = 'both',\n}\nexport interface UseMultiSelectProps {\n  value?: string | string[]\n  options: Option[]\n  onChange?: SelectOnChange\n  getOption?: GetOption\n}\nexport interface UseMultiSelectReturn {\n  value?: string | string[]\n  options: Option[]\n  onChange: SelectOnChange\n}\n\nexport interface UseSelectProps extends UsePopperProps {\n  onChange: SelectOnChange\n  single?: boolean\n  create?: boolean\n  disabled?: boolean\n  selectionVisibleIn?: SelectionVisibilityMode\n  duplicates?: boolean\n  options?: Option[]\n  value?: any\n  placeholder?: string\n  searchPlaceholder?: string\n  size?: 'sm' | 'md' | 'lg'\n  shiftAmount?: number\n  getOption?: GetOption\n  getDebounce?: GetDebounce\n  stateReducer?: StateReducer\n  scrollToIndex?: ScrollToIndex\n  filterFn?: SelectFilter\n}\nexport interface UseSelectReturn {\n  value: any\n  multi: boolean\n  searchValue: string\n  isOpen: boolean\n  selectedOption: Option\n  visibleOptions: Option[]\n  selectionVisibleIn: SelectionVisibilityMode\n  selectIndex: (index: number) => any\n  highlightIndex: (value: any) => any\n  highlightedValueRef: MutableRefObject<HTMLElement | undefined>\n  highlightedIndexRef: MutableRefObject<number>\n  enableScrollRef: MutableRefObject<boolean>\n  removeValue: SelectRemoveValue\n  setOpen: SelectSetOpen\n  setSearch: SelectSetSearch\n  popper: UsePopperReturn\n  getInputProps: AnyFunc\n  getOptionProps: AnyFunc\n  getOption: GetOption\n  optionsRef: MutableRefObject<any>\n  controlRef: MutableRefObject<any>\n  clearAll: () => void\n  clearable: boolean\n  disabled: boolean\n}\n\nconst [SelectProvider, useSelectContext] = createContext<UseSelectReturn>({\n  strict: false,\n  name: 'SelectContext',\n})\nconst [SelectInputProvider, useSelectInputContext] = createContext<\n  Pick<UseSelectReturn, 'getInputProps'>\n>({\n  strict: false,\n  name: 'SelectInputContext',\n})\nconst [SelectedProvider, useSelectedContext] = createContext<\n  Pick<UseSelectReturn, 'removeValue'>\n>({\n  strict: false,\n  name: 'SelectedContext',\n})\nconst [SelectedListProvider, useSelectedListContext] = createContext<\n  Pick<UseSelectReturn, 'value' | 'multi' | 'selectionVisibleIn'>\n>({\n  strict: false,\n  name: 'SelectedListContext',\n})\nconst [SelectActionProvider, useSelectActionContext] = createContext<\n  Pick<UseSelectReturn, 'isOpen' | 'setOpen' | 'clearable' | 'clearAll'>\n>({\n  strict: false,\n  name: 'SelectActionContext',\n})\nconst [SelectIdProvider, useSelectIdContext] = createContext<{\n  selectLabelId: string\n  selectInputId: string\n}>({ strict: false, name: 'SelectIdContext' })\n\nexport {\n  SelectProvider,\n  SelectInputProvider,\n  SelectedProvider,\n  SelectedListProvider,\n  SelectActionProvider,\n  SelectIdProvider,\n  useSelectContext,\n  useSelectedContext,\n  useSelectedListContext,\n  useSelectInputContext,\n  useSelectActionContext,\n  useSelectIdContext,\n}\n\nexport function useSelect({\n  create = false,\n  single = false,\n  disabled = false,\n  selectionVisibleIn = SelectionVisibilityMode.Input,\n  getDebounce = defaultGetDebounce,\n  getOption = defaultGetOption,\n  stateReducer = defaultStateReducer,\n  filterFn = defaultFilterFn,\n  scrollToIndex = defaultScrollToIndex,\n  shiftAmount = 5,\n  duplicates,\n  options,\n  value,\n  onChange,\n  placement = 'bottom-start',\n  placeholder,\n  searchPlaceholder,\n}: UseSelectProps): UseSelectReturn {\n  const [\n    { searchValue, resolvedSearchValue, isOpen, highlightedIndex },\n    setState,\n  ] = useHoistedState(initialState, stateReducer)\n\n  const multi = !single\n  const hasMultiSelection =\n    multi && !!(Array.isArray(value) ? value.length > 0 : !!value)\n\n  // Refs\n\n  const optionsRef = useRef()\n  const optionsItemsRef = useRef<Option[]>([])\n  const valueRef = useRef<string | Array<string>>('')\n  const inputRef = useRef()\n  const controlRef = useRef()\n  const onBlurRef = useRef({})\n  const onChangeRef = useRef()\n  const filterFnRef = useRef()\n  const scrollToIndexRef = useRef()\n  const highlightedIndexRef = useRef<number>(highlightedIndex)\n  const highlightedValueRef = useRef<HTMLElement | undefined>()\n  const enableScrollRef = useRef(false)\n\n  const popper = usePopper({\n    placement,\n  })\n\n  highlightedIndexRef.current = highlightedIndex\n  ;(filterFnRef.current as any) = filterFn\n  ;(scrollToIndexRef.current as any) = scrollToIndex\n  ;(onChangeRef.current as any) = onChange\n\n  // Multi should always at least have an empty array as the value\n  if (multi && typeof value === 'undefined') {\n    value = defaultMultiValue\n  }\n\n  // If no options are provided, then use an empty array\n  if (!options) {\n    options = defaultOptions\n  }\n\n  const originalOptions = options\n\n  // If multi and duplicates aren't allowed, filter out the\n  // selected options from the options list\n  options = useMemo(() => {\n    // if selectionVisibleIn list || both set a selected value and don't filter\n    if (selectionVisibleIn !== SelectionVisibilityMode.Input) {\n      return options?.map((d) => ({\n        ...getOption(d),\n        selected: (Array.isArray(value) ? value : [value || ''])?.some(\n          (v: any) => getOption(v).value === getOption(d).value\n        ),\n      }))\n    }\n\n    // otherwise\n    if (multi && !duplicates) {\n      return options?.filter(\n        (d) =>\n          !value?.some((v: any) => getOption(v).value === getOption(d).value)\n      )\n    }\n    return options\n  }, [options, value, duplicates, multi, getOption, selectionVisibleIn])\n\n  // Compute the currently selected option(s)\n  const selectedOption = useMemo(() => {\n    if (!multi) {\n      return (\n        originalOptions.find(\n          (d) => getOption(d).value === getOption(value).value\n        ) || getOption(value)\n      )\n    } else {\n      return value.map(\n        (val: any) =>\n          originalOptions.find(\n            (d) => getOption(d).value === getOption(val).value\n          ) || getOption(val)\n      )\n    }\n  }, [multi, value, originalOptions, getOption])\n\n  // If there is a search value, filter the options for that value\n  // This needs to be reworked to handle async loading\n  options = useMemo(() => {\n    if (resolvedSearchValue) {\n      return (filterFnRef.current as any)?.(\n        options,\n        resolvedSearchValue,\n        getOption\n      )\n    }\n    return options\n  }, [options, resolvedSearchValue, getOption])\n\n  // If in create mode and we have a search value, fabricate\n  // an option for that searchValue and prepend it to options\n  options = useMemo(() => {\n    if (create && searchValue) {\n      return [{ created: true, ...getOption(searchValue) }, ...options!]\n    }\n    return options\n  }, [create, searchValue, options, getOption])\n\n  valueRef.current = value\n  optionsItemsRef.current = options as Option[]\n\n  // Actions\n\n  const setOpen = useCallback((newIsOpen: boolean) => {\n    setState(\n      (old) => updateReducerState(old, newIsOpen, 'isOpen'),\n      SelectActions.SetOpen\n    )\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const Close = useCallback(() => {\n    setOpen(false)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const Open = useCallback(() => {\n    setOpen(true)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const setResolvedSearch = useDebounce((value) => {\n    setState(\n      (old) => updateReducerState(old, value, 'resolvedSearchValue'),\n      SelectActions.SetSearch\n    )\n  }, getDebounce(options!))\n\n  const setSearch = useCallback((value: string) => {\n    setState(\n      (old) => updateReducerState(old, value, 'searchValue'),\n      SelectActions.SetSearch\n    )\n    setResolvedSearch(value)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const highlightIndex = useCallback(\n    (value: number | ((prev: number) => number)) => {\n      const _options = optionsItemsRef.current\n      setState((old) => {\n        return {\n          ...old,\n          highlightedIndex: Math.min(\n            Math.max(\n              0,\n              typeof value === 'function' ? value(old.highlightedIndex) : value\n            ),\n            _options.length - 1\n          ),\n        }\n      }, SelectActions.HighlightIndex)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  const selectIndex = useCallback(\n    (index: number) => {\n      const option = optionsItemsRef.current![index]\n      if (option) {\n        const selectedOption = getOption(option) as any\n\n        if (!multi) {\n          ;(onChangeRef.current as any)?.(selectedOption.value, {\n            action: selectedOption.created\n              ? ChangeActions.SingleCreate\n              : ChangeActions.SingleSelect,\n            value: selectedOption,\n          })\n        } else {\n          const _value = valueRef.current as Array<string>\n          if (\n            duplicates ||\n            !_value.some(\n              (v: any) => getOption(v).value === selectedOption.value\n            )\n          ) {\n            ;(onChangeRef.current as any)?.([..._value, selectedOption], {\n              action: selectedOption.created\n                ? ChangeActions.MultiCreate\n                : ChangeActions.MultiSelect,\n              value: selectedOption,\n            })\n          }\n        }\n      }\n\n      if (create || multi) {\n        setSearch('')\n      }\n      if (!multi) {\n        Close()\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [multi, create, duplicates, getOption]\n  )\n\n  const clearAll = useCallback(() => {\n    ;(onChangeRef.current as any)?.(multi ? [] : '', {\n      action: multi ? ChangeActions.MultiClear : ChangeActions.SingleClear,\n      value: '',\n    })\n  }, [multi])\n\n  const removeValue = useCallback(\n    (v: number | string | Record<string, string | number>) => {\n      const isIndex = typeof v === 'number'\n      const _multi = Array.isArray(valueRef.current)\n      const _value = (\n        _multi ? valueRef.current : [valueRef.current]\n      ) as Array<string>\n      const _next = _value.filter((_v: any, i: number) =>\n        isIndex ? i !== v : getOption(v as any).value !== getOption(_v).value\n      )\n      if (_multi) {\n        ;(onChangeRef.current as any)(_next, {\n          action: ChangeActions.MultiRemove,\n          value: getOption(isIndex ? (_value as Array<any>)[v] : v).value,\n        })\n      } else {\n        ;(onChangeRef.current as any)(_next[0] || '', {\n          action: ChangeActions.SingleRemove,\n          value: getOption(isIndex ? (_value as Array<any>)[v] : v).value,\n        })\n      }\n    },\n    [getOption]\n  )\n\n  // Handlers\n\n  const handleSearchValueChange = useCallback(\n    (e: any) => {\n      if (disabled) return\n      setSearch(e.target.value)\n      Open()\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [disabled]\n  )\n\n  const handleSearchClick = useCallback(() => {\n    if (disabled) return\n    if (!create || multi) {\n      setSearch('')\n    }\n    Open()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [create, multi, disabled])\n\n  // Prop Getters\n\n  const ArrowUp =\n    (defaultShift?: any, defaultMeta?: any) =>\n    ({ shift, meta }: any, e: any) => {\n      e.preventDefault()\n      const amount =\n        defaultMeta || meta\n          ? 1000000000000\n          : defaultShift || shift\n          ? shiftAmount - 1\n          : 1\n      Open()\n      enableScrollRef.current = true\n      highlightIndex((old: number) => old - amount)\n    }\n\n  const ArrowDown =\n    (defaultShift?: any, defaultMeta?: any) =>\n    ({ shift, meta }: any, e: any) => {\n      e.preventDefault()\n      const amount =\n        defaultMeta || meta\n          ? 1000000000000\n          : defaultShift || shift\n          ? shiftAmount - 1\n          : 1\n      Open()\n      enableScrollRef.current = true\n      highlightIndex((old: number) => old + amount)\n    }\n\n  const Enter = useCallback(\n    (_: any, e: any) => {\n      if (isOpen) {\n        const _options = optionsItemsRef.current\n        if (searchValue || _options![highlightedIndexRef!.current as number]) {\n          e.preventDefault()\n        }\n        if (_options![highlightedIndexRef!.current as number]) {\n          selectIndex(highlightedIndexRef!.current as number)\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isOpen, searchValue]\n  )\n\n  const Backspace = useCallback(() => {\n    const _value = valueRef.current\n    const lastValue = multi ? _value[_value.length - 1] : _value\n    if ((multi && !searchValue) || (!multi && lastValue)) {\n      removeValue(lastValue as string)\n      setSearch('')\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchValue, multi])\n\n  const getKeyProps = useKeys({\n    ArrowUp: ArrowUp(),\n    ArrowDown: ArrowDown(),\n    PageUp: ArrowUp(true),\n    PageDown: ArrowDown(true),\n    Home: ArrowUp(false, true),\n    End: ArrowDown(false, true),\n    Escape: Close,\n    Tab: Close,\n    Enter,\n    Backspace,\n  } as any)\n\n  const getInputProps = useCallback(\n    (\n      {\n        refKey = 'ref',\n        ref,\n        onChange,\n        onFocus,\n        onClick,\n        onBlur,\n        ...rest\n      } = {} as any\n    ) => {\n      return getKeyProps({\n        [refKey]: (el: HTMLElement) => {\n          ;(inputRef.current as any) = el\n          if (ref) {\n            ref.current = el\n          }\n        },\n        value:\n          (isOpen\n            ? searchValue || selectedOption.label\n            : selectedOption\n            ? selectedOption?.label\n            : '') || '',\n        placeholder:\n          hasMultiSelection && !searchValue\n            ? searchPlaceholder\n            : !selectedOption?.label\n            ? placeholder\n            : undefined,\n        onChange: (e: any) => {\n          handleSearchValueChange(e)\n          if (onChange) {\n            onChange(e)\n          }\n        },\n        onFocus: (e: any) => {\n          handleSearchClick()\n          if (onFocus) {\n            onFocus(e)\n          }\n        },\n        onClick: (e: any) => {\n          handleSearchClick()\n          if (onClick) {\n            onClick(e)\n          }\n        },\n        onBlur: (e: any) => {\n          if (onBlur) {\n            e.persist()\n            ;(onBlurRef.current as any).cb = onBlur\n            ;(onBlurRef.current as any).event = e\n          }\n        },\n        ...rest,\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      isOpen,\n      searchValue,\n      selectedOption,\n      handleSearchClick,\n      handleSearchValueChange,\n      placeholder,\n      searchPlaceholder,\n      hasMultiSelection,\n    ]\n  )\n\n  const getOptionProps = useCallback(\n    (\n      { index, key = index, onClick, onMouseEnter, option, ...rest } = {} as any\n    ) => {\n      if (typeof index !== 'number' || index < 0) {\n        throw new Error(\n          `useSelect: The getOptionProps prop getter requires an index property, eg. 'getOptionProps({index: 1})'`\n        )\n      }\n\n      return {\n        key,\n        option,\n        ...rest,\n        onClick: (e: any) => {\n          if (option.selected !== undefined && option.selected) {\n            removeValue(option.value)\n          } else {\n            selectIndex(index)\n          }\n          if (onClick) {\n            onClick(e)\n          }\n        },\n        onMouseEnter: (e: any) => {\n          enableScrollRef.current = false\n          highlightIndex(index)\n          if (onMouseEnter) {\n            onMouseEnter(e)\n          }\n        },\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  // Effects\n\n  // When the user clicks outside of the options box or input\n  // while open, we need to close the dropdown\n  useClickOutsideRef(isOpen, Close, optionsRef!, controlRef!)\n\n  useEffect(() => {\n    if (isOpen && disabled) {\n      setOpen(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, disabled])\n\n  // When searching, activate the first option\n  useEffect(() => {\n    if (searchValue) {\n      highlightIndex(0)\n    }\n  }, [searchValue, highlightIndex])\n\n  // When we open and close the options, set the highlightedIndex to 0\n  useEffect(() => {\n    highlightIndex(0)\n\n    if (!isOpen && (onBlurRef.current as any)?.event) {\n      ;(onBlurRef.current as any)?.cb((onBlurRef.current as any).event)\n      ;(onBlurRef.current as any).event = null\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen])\n\n  // When the highlightedIndex changes, scroll to that item\n  useEffect(() => {\n    ;(scrollToIndexRef.current as any)?.(\n      highlightedIndex,\n      highlightedValueRef,\n      optionsRef,\n      enableScrollRef\n    )\n  }, [highlightedIndex])\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => {\n        ;(inputRef.current as any)?.focus()\n      })\n    }\n  }, [isOpen])\n\n  return {\n    multi,\n    clearable: hasMultiSelection,\n    disabled,\n    clearAll,\n    optionsRef,\n    controlRef,\n    popper,\n    // State\n    value,\n    searchValue,\n    isOpen,\n    highlightedIndexRef,\n    highlightedValueRef,\n    enableScrollRef,\n    selectedOption,\n    visibleOptions: options!,\n    selectionVisibleIn,\n    // Actions\n    selectIndex,\n    removeValue,\n    setOpen,\n    setSearch,\n    highlightIndex,\n    // Prop Getters\n    getInputProps,\n    getOptionProps,\n    getOption,\n  }\n}\n\nfunction useClickOutsideRef(\n  enable: boolean,\n  fn: AnyFunc,\n  dropdownRef: MutableRefObject<any>,\n  controlRef: MutableRefObject<any>\n): void {\n  const localDropdownRef = useRef()\n  const localControlRef = useRef()\n  const fnRef = useRef()\n\n  ;(fnRef.current as any) = fn\n  const elDropdownRef =\n    dropdownRef ||\n    (localDropdownRef as unknown as MutableRefObject<HTMLElement>)\n  const elControlRef =\n    controlRef || (localControlRef as unknown as MutableRefObject<HTMLElement>)\n\n  const handle = useCallback((e: TouchEvent | MouseEvent) => {\n    const isTouch = e.type === 'touchstart'\n    if (e.type === 'click' && isTouch) {\n      return\n    }\n\n    const elControl = elControlRef.current as HTMLElement\n    const elDropdown = elDropdownRef.current as HTMLElement\n    if (\n      !(\n        elControl?.contains((e as any).target) ||\n        elDropdown?.contains((e as any).target)\n      )\n    ) {\n      ;(fnRef.current as any)(e)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    if (enable) {\n      document.addEventListener('touchstart', handle, true)\n      document.addEventListener('click', handle, true)\n    }\n\n    return () => {\n      document.removeEventListener('touchstart', handle, true)\n      document.removeEventListener('click', handle, true)\n    }\n  }, [enable, handle])\n}\n\nexport function useSelectActionGroup(props: any = {}) {\n  const { clearAll, clearable } = useSelectActionContext()\n  const styles = useStyles()\n\n  const clearOnClick = useCallback((e: MouseEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    clearAll()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return {\n    ...props,\n    clearOnClick,\n    clearable,\n    __css: styles.actionGroup,\n  }\n}\n\nexport function useSelectInput(props: any = {}) {\n  const { selectLabelId, selectInputId } = useSelectIdContext()\n  const { getInputProps } = useSelectInputContext()\n  const { fontSize } = useMultiStyleConfig('Input', props).field || {}\n  const styles = useStyles()\n\n  return {\n    ...props,\n    ...getInputProps(),\n    __css: {\n      fontSize,\n      ...styles.input,\n    },\n    id: selectInputId,\n    'aria-labelledby': selectLabelId,\n  }\n}\nexport function useSelectLabel(props: any = {}) {\n  const { selectLabelId, selectInputId } = useSelectIdContext()\n  const labelStyles = useMultiStyleConfig('FormLabel', props) || {}\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...labelStyles,\n      ...styles.label,\n    },\n    id: selectLabelId,\n    htmlFor: selectInputId,\n  }\n}\n\nexport function useSelectButton(props: any = {}) {\n  const { isOpen, setOpen } = useSelectActionContext()\n  const onClick = useCallback(\n    (e: MouseEvent) => {\n      e.preventDefault()\n      e.stopPropagation()\n      ;(setOpen as any)((o: any) => !o)\n    },\n    [setOpen]\n  )\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...styles.button,\n      ...(isOpen && (styles.button as any))?._active,\n    },\n    isOpen,\n    onClick,\n  }\n}\n\nexport function useClearButton(props: any = {}) {\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...styles.button,\n    },\n  }\n}\n\nexport function useSelectedItem(\n  props: { value: any; label: string; key?: string } = {} as any\n) {\n  const { removeValue } = useSelectedContext()\n  const styles = useStyles()\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const onClick = useCallback(() => removeValue(props.value), [props.value])\n\n  return useMemo(\n    () => ({\n      key: props.key || props.value,\n      onClick,\n      __css: styles.selectedItem,\n      value: props.value,\n      label: props.label || labelFromValue(props.value),\n    }),\n    [props.value, props.label, props.key, onClick, styles.selectedItem]\n  )\n}\n\nexport function useSelectItem({ selected, ...props }: any = {}) {\n  const { getOptionProps, highlightedIndexRef, highlightedValueRef, multi } =\n    useSelectContext()\n  const styles = useStyles()\n  const highlighted = highlightedIndexRef.current === props.index\n\n  return useMemo(() => {\n    const option = {\n      value: props.value,\n      label: props.label || labelFromValue(props.value),\n      selected,\n    }\n    return {\n      ...getOptionProps!({\n        option,\n        key: props.key || idFromOption(option),\n        index: props.index,\n      }),\n      multi,\n      highlightedRef: highlighted ? highlightedValueRef : undefined,\n      __css: {\n        ...styles.item,\n        ...(selected && (styles.item as any))?._selected,\n        ...(highlighted && (styles.item as any))?._active,\n      },\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    highlighted,\n    selected,\n    props.key,\n    props.label,\n    props.value,\n    props.index,\n    styles.item,\n    multi,\n  ])\n}\n\nexport function useSelectList() {\n  const { isOpen, getOption, optionsRef, popper, visibleOptions, multi } =\n    useSelectContext()\n  const styles = useStyles()\n\n  return useMemo(\n    () => ({\n      ref: mergeRefs(optionsRef, popper.popperRef),\n      optionsRef,\n      isOpen,\n      visibleOptions,\n      getOption,\n      __css: styles.list,\n      'aria-multiselectable': multi,\n      'aria-hidden': !isOpen,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isOpen, visibleOptions, styles.list, multi]\n  )\n}\n\nexport function useSelectedList(props: any = {}) {\n  const { visibleOptions, getOption } = useSelectContext()\n  const { value, multi, selectionVisibleIn } = useSelectedListContext()\n  const styles = useStyles()\n\n  const selectedItems = useMemo(\n    () =>\n      value && Array.isArray(value) ? value.map((v: any) => getOption(v)) : [],\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [value, visibleOptions]\n  )\n\n  return {\n    ...props,\n    multi,\n    selectedItems,\n    selectionVisibleIn,\n    __css: styles.selectedList,\n    textList: {\n      __css: styles.textList,\n    },\n  }\n}\n\nexport function useSelectControl(props: any = {}) {\n  const { isOpen, popper, controlRef, disabled } = useSelectContext()\n  const inputStyles = useMultiStyleConfig('Input', props) || {}\n  const styles = useStyles()\n\n  return {\n    ...props,\n    ...useMemo(\n      () => ({\n        ref: mergeRefs(props.ref, controlRef, popper.referenceRef),\n      }),\n      [props.ref, controlRef, popper.referenceRef]\n    ),\n    isOpen,\n    disabled,\n    __css: {\n      ...styles.field,\n      ...styles.control,\n      _focusWithin: (inputStyles.field as any)?._focusVisible,\n      _disabled: (inputStyles.field as any)?._disabled,\n    },\n  }\n}\n\nexport const uid = (t = 21): string => {\n  const chars =\n    '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_'\n\n  let result = ''\n  for (let i = 0; i < t; i++) {\n    const randomIndex = Math.floor(Math.random() * chars.length)\n    result += chars[randomIndex]\n  }\n\n  return result\n}\n\nexport function useId(): string {\n  const idRef = useRef<string>()\n  if (!idRef.current) {\n    idRef.current = uid()\n  }\n  return idRef.current\n}\n\nexport function useMultiSelect(\n  props: UseMultiSelectProps = {} as UseMultiSelectProps\n): UseMultiSelectReturn {\n  const getOption = props.getOption || defaultGetOption\n  const [value, setValue] = useState(props.value)\n  const [options, setOptions] = useState<Option[]>(() =>\n    props.options.map(getOption)\n  )\n  const onChangeRef = useRef<typeof props.onChange>()\n  onChangeRef.current = props.onChange\n\n  const setNextValue = useCallback<SelectOnChange>((value, change) => {\n    setValue(value as any)\n    onChangeRef.current?.(value, change)\n  }, [])\n\n  const onChange = useCallback<SelectOnChange>(\n    (next, change) => {\n      switch (change?.action) {\n        case ChangeActions.SingleCreate:\n          setNextValue(next, change)\n          setOptions((o) => {\n            const opt = getOption(next as any)\n            return o.some((_o) => getOption(_o).value === opt.value)\n              ? o\n              : [{ ...opt, created: true }, ...o]\n          })\n          break\n        case ChangeActions.SingleClear:\n        case ChangeActions.SingleRemove:\n          setNextValue(next, change)\n          break\n        case ChangeActions.SingleSelect:\n          setNextValue(next, change)\n          break\n        case ChangeActions.MultiCreate:\n          const nextValue = next as Option[]\n          const created = next[nextValue.length - 1]\n          setNextValue(nextValue, change)\n          setOptions((o) => {\n            const opt = getOption(created as any)\n            return o.some((_o) => getOption(_o).value === opt.value)\n              ? o\n              : [{ ...opt, created: true }, ...o]\n          })\n          break\n        case ChangeActions.MultiClear:\n        case ChangeActions.MultiRemove:\n          setNextValue(next, change)\n          break\n        case ChangeActions.MultiSelect:\n        default:\n          setNextValue(next, change)\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [setValue, setOptions, getOption]\n  )\n\n  return {\n    value,\n    options,\n    onChange,\n  }\n}\n","/**\n * react-virtual\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nexport { _extends as extends };\n//# sourceMappingURL=_rollupPluginBabelHelpers.mjs.map\n","/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nexport { _extends as extends };\n//# sourceMappingURL=_rollupPluginBabelHelpers.mjs.map\n","/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction memo(getDeps, fn, opts) {\n  var _opts$initialDeps;\n  var deps = (_opts$initialDeps = opts.initialDeps) != null ? _opts$initialDeps : [];\n  var result;\n  return function () {\n    var depTime;\n    if (opts.key && opts.debug != null && opts.debug()) depTime = Date.now();\n    var newDeps = getDeps();\n    var depsChanged = newDeps.length !== deps.length || newDeps.some(function (dep, index) {\n      return deps[index] !== dep;\n    });\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    var resultTime;\n    if (opts.key && opts.debug != null && opts.debug()) resultTime = Date.now();\n    result = fn.apply(void 0, newDeps);\n    if (opts.key && opts.debug != null && opts.debug()) {\n      var depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      var resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      var resultFpsPercentage = resultEndTime / 16;\n      var pad = function pad(str, num) {\n        str = String(str);\n        while (str.length < num) {\n          str = ' ' + str;\n        }\n        return str;\n      };\n      console.info(\"%c\\u23F1 \" + pad(resultEndTime, 5) + \" /\" + pad(depEndTime, 5) + \" ms\", \"\\n            font-size: .6rem;\\n            font-weight: bold;\\n            color: hsl(\" + Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120)) + \"deg 100% 31%);\", opts == null ? void 0 : opts.key);\n    }\n    opts == null ? void 0 : opts.onChange == null ? void 0 : opts.onChange(result);\n    return result;\n  };\n}\nfunction notUndefined(value, msg) {\n  if (value === undefined) {\n    throw new Error(\"Unexpected undefined\" + (msg ? \": \" + msg : ''));\n  } else {\n    return value;\n  }\n}\nvar approxEqual = function approxEqual(a, b) {\n  return Math.abs(a - b) < 1;\n};\n\nexport { approxEqual, memo, notUndefined };\n//# sourceMappingURL=utils.mjs.map\n","/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport { extends as _extends } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { memo, notUndefined, approxEqual } from './utils.mjs';\nexport { approxEqual, memo, notUndefined } from './utils.mjs';\n\n//\n\n//\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.startIndex - range.overscan, 0);\n  var end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  var arr = [];\n  for (var _i = start; _i <= end; _i++) {\n    arr.push(_i);\n  }\n  return arr;\n};\nvar observeElementRect = function observeElementRect(instance, cb) {\n  var element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  var handler = function handler(rect) {\n    var width = rect.width,\n      height = rect.height;\n    cb({\n      width: Math.round(width),\n      height: Math.round(height)\n    });\n  };\n  handler(element.getBoundingClientRect());\n  var observer = new ResizeObserver(function (entries) {\n    var entry = entries[0];\n    if (entry != null && entry.borderBoxSize) {\n      var box = entry.borderBoxSize[0];\n      if (box) {\n        handler({\n          width: box.inlineSize,\n          height: box.blockSize\n        });\n        return;\n      }\n    }\n    handler(element.getBoundingClientRect());\n  });\n  observer.observe(element, {\n    box: 'border-box'\n  });\n  return function () {\n    observer.unobserve(element);\n  };\n};\nvar observeWindowRect = function observeWindowRect(instance, cb) {\n  var element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  var handler = function handler() {\n    cb({\n      width: element.innerWidth,\n      height: element.innerHeight\n    });\n  };\n  handler();\n  element.addEventListener('resize', handler, {\n    passive: true\n  });\n  return function () {\n    element.removeEventListener('resize', handler);\n  };\n};\nvar observeElementOffset = function observeElementOffset(instance, cb) {\n  var element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  var handler = function handler() {\n    cb(element[instance.options.horizontal ? 'scrollLeft' : 'scrollTop']);\n  };\n  handler();\n  element.addEventListener('scroll', handler, {\n    passive: true\n  });\n  return function () {\n    element.removeEventListener('scroll', handler);\n  };\n};\nvar observeWindowOffset = function observeWindowOffset(instance, cb) {\n  var element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  var handler = function handler() {\n    cb(element[instance.options.horizontal ? 'scrollX' : 'scrollY']);\n  };\n  handler();\n  element.addEventListener('scroll', handler, {\n    passive: true\n  });\n  return function () {\n    element.removeEventListener('scroll', handler);\n  };\n};\nvar measureElement = function measureElement(element, entry, instance) {\n  if (entry != null && entry.borderBoxSize) {\n    var box = entry.borderBoxSize[0];\n    if (box) {\n      var size = Math.round(box[instance.options.horizontal ? 'inlineSize' : 'blockSize']);\n      return size;\n    }\n  }\n  return Math.round(element.getBoundingClientRect()[instance.options.horizontal ? 'width' : 'height']);\n};\nvar windowScroll = function windowScroll(offset, _ref, instance) {\n  var _instance$scrollEleme, _instance$scrollEleme2;\n  var _ref$adjustments = _ref.adjustments,\n    adjustments = _ref$adjustments === void 0 ? 0 : _ref$adjustments,\n    behavior = _ref.behavior;\n  var toOffset = offset + adjustments;\n  (_instance$scrollEleme = instance.scrollElement) == null ? void 0 : _instance$scrollEleme.scrollTo == null ? void 0 : _instance$scrollEleme.scrollTo((_instance$scrollEleme2 = {}, _instance$scrollEleme2[instance.options.horizontal ? 'left' : 'top'] = toOffset, _instance$scrollEleme2.behavior = behavior, _instance$scrollEleme2));\n};\nvar elementScroll = function elementScroll(offset, _ref2, instance) {\n  var _instance$scrollEleme3, _instance$scrollEleme4;\n  var _ref2$adjustments = _ref2.adjustments,\n    adjustments = _ref2$adjustments === void 0 ? 0 : _ref2$adjustments,\n    behavior = _ref2.behavior;\n  var toOffset = offset + adjustments;\n  (_instance$scrollEleme3 = instance.scrollElement) == null ? void 0 : _instance$scrollEleme3.scrollTo == null ? void 0 : _instance$scrollEleme3.scrollTo((_instance$scrollEleme4 = {}, _instance$scrollEleme4[instance.options.horizontal ? 'left' : 'top'] = toOffset, _instance$scrollEleme4.behavior = behavior, _instance$scrollEleme4));\n};\nvar Virtualizer = function Virtualizer(_opts) {\n  var _this = this;\n  this.unsubs = [];\n  this.scrollElement = null;\n  this.isScrolling = false;\n  this.isScrollingTimeoutId = null;\n  this.scrollToIndexTimeoutId = null;\n  this.measurementsCache = [];\n  this.itemSizeCache = new Map();\n  this.pendingMeasuredCacheIndexes = [];\n  this.scrollDirection = null;\n  this.scrollAdjustments = 0;\n  this.measureElementCache = new Map();\n  this.observer = function () {\n    var _ro = null;\n    var get = function get() {\n      if (_ro) {\n        return _ro;\n      } else if (typeof ResizeObserver !== 'undefined') {\n        return _ro = new ResizeObserver(function (entries) {\n          entries.forEach(function (entry) {\n            _this._measureElement(entry.target, entry);\n          });\n        });\n      } else {\n        return null;\n      }\n    };\n    return {\n      disconnect: function disconnect() {\n        var _get;\n        return (_get = get()) == null ? void 0 : _get.disconnect();\n      },\n      observe: function observe(target) {\n        var _get2;\n        return (_get2 = get()) == null ? void 0 : _get2.observe(target, {\n          box: 'border-box'\n        });\n      },\n      unobserve: function unobserve(target) {\n        var _get3;\n        return (_get3 = get()) == null ? void 0 : _get3.unobserve(target);\n      }\n    };\n  }();\n  this.range = {\n    startIndex: 0,\n    endIndex: 0\n  };\n  this.setOptions = function (opts) {\n    Object.entries(opts).forEach(function (_ref3) {\n      var key = _ref3[0],\n        value = _ref3[1];\n      if (typeof value === 'undefined') delete opts[key];\n    });\n    _this.options = _extends({\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: function onChange() {},\n      measureElement: measureElement,\n      initialRect: {\n        width: 0,\n        height: 0\n      },\n      scrollMargin: 0,\n      scrollingDelay: 150,\n      indexAttribute: 'data-index',\n      initialMeasurementsCache: [],\n      lanes: 1\n    }, opts);\n  };\n  this.notify = function () {\n    _this.options.onChange == null ? void 0 : _this.options.onChange(_this);\n  };\n  this.cleanup = function () {\n    _this.unsubs.filter(Boolean).forEach(function (d) {\n      return d();\n    });\n    _this.unsubs = [];\n    _this.scrollElement = null;\n  };\n  this._didMount = function () {\n    _this.measureElementCache.forEach(_this.observer.observe);\n    return function () {\n      _this.observer.disconnect();\n      _this.cleanup();\n    };\n  };\n  this._willUpdate = function () {\n    var scrollElement = _this.options.getScrollElement();\n    if (_this.scrollElement !== scrollElement) {\n      _this.cleanup();\n      _this.scrollElement = scrollElement;\n      _this._scrollToOffset(_this.scrollOffset, {\n        adjustments: undefined,\n        behavior: undefined\n      });\n      _this.unsubs.push(_this.options.observeElementRect(_this, function (rect) {\n        var prev = _this.scrollRect;\n        _this.scrollRect = rect;\n        if (_this.options.horizontal ? rect.width !== prev.width : rect.height !== prev.height) {\n          _this.maybeNotify();\n        }\n      }));\n      _this.unsubs.push(_this.options.observeElementOffset(_this, function (offset) {\n        _this.scrollAdjustments = 0;\n        if (_this.scrollOffset === offset) {\n          return;\n        }\n        if (_this.isScrollingTimeoutId !== null) {\n          clearTimeout(_this.isScrollingTimeoutId);\n          _this.isScrollingTimeoutId = null;\n        }\n        _this.isScrolling = true;\n        _this.scrollDirection = _this.scrollOffset < offset ? 'forward' : 'backward';\n        _this.scrollOffset = offset;\n        _this.maybeNotify();\n        _this.isScrollingTimeoutId = setTimeout(function () {\n          _this.isScrollingTimeoutId = null;\n          _this.isScrolling = false;\n          _this.scrollDirection = null;\n          _this.maybeNotify();\n        }, _this.options.scrollingDelay);\n      }));\n    }\n  };\n  this.getSize = function () {\n    return _this.scrollRect[_this.options.horizontal ? 'width' : 'height'];\n  };\n  this.memoOptions = memo(function () {\n    return [_this.options.count, _this.options.paddingStart, _this.options.scrollMargin, _this.options.getItemKey];\n  }, function (count, paddingStart, scrollMargin, getItemKey) {\n    _this.pendingMeasuredCacheIndexes = [];\n    return {\n      count: count,\n      paddingStart: paddingStart,\n      scrollMargin: scrollMargin,\n      getItemKey: getItemKey\n    };\n  }, {\n    key: false\n  });\n  this.getFurthestMeasurement = function (measurements, index) {\n    var furthestMeasurementsFound = new Map();\n    var furthestMeasurements = new Map();\n    for (var m = index - 1; m >= 0; m--) {\n      var measurement = measurements[m];\n      if (furthestMeasurementsFound.has(measurement.lane)) {\n        continue;\n      }\n      var previousFurthestMeasurement = furthestMeasurements.get(measurement.lane);\n      if (previousFurthestMeasurement == null || measurement.end > previousFurthestMeasurement.end) {\n        furthestMeasurements.set(measurement.lane, measurement);\n      } else if (measurement.end < previousFurthestMeasurement.end) {\n        furthestMeasurementsFound.set(measurement.lane, true);\n      }\n      if (furthestMeasurementsFound.size === _this.options.lanes) {\n        break;\n      }\n    }\n    return furthestMeasurements.size === _this.options.lanes ? Array.from(furthestMeasurements.values()).sort(function (a, b) {\n      return a.end - b.end;\n    })[0] : undefined;\n  };\n  this.getMeasurements = memo(function () {\n    return [_this.memoOptions(), _this.itemSizeCache];\n  }, function (_ref4, itemSizeCache) {\n    var count = _ref4.count,\n      paddingStart = _ref4.paddingStart,\n      scrollMargin = _ref4.scrollMargin,\n      getItemKey = _ref4.getItemKey;\n    var min = _this.pendingMeasuredCacheIndexes.length > 0 ? Math.min.apply(Math, _this.pendingMeasuredCacheIndexes) : 0;\n    _this.pendingMeasuredCacheIndexes = [];\n    var measurements = _this.measurementsCache.slice(0, min);\n    for (var _i2 = min; _i2 < count; _i2++) {\n      var key = getItemKey(_i2);\n      var furthestMeasurement = _this.options.lanes === 1 ? measurements[_i2 - 1] : _this.getFurthestMeasurement(measurements, _i2);\n      var start = furthestMeasurement ? furthestMeasurement.end : paddingStart + scrollMargin;\n      var measuredSize = itemSizeCache.get(key);\n      var size = typeof measuredSize === 'number' ? measuredSize : _this.options.estimateSize(_i2);\n      var end = start + size;\n      var lane = furthestMeasurement ? furthestMeasurement.lane : _i2 % _this.options.lanes;\n      measurements[_i2] = {\n        index: _i2,\n        start: start,\n        size: size,\n        end: end,\n        key: key,\n        lane: lane\n      };\n    }\n    _this.measurementsCache = measurements;\n    return measurements;\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.calculateRange = memo(function () {\n    return [_this.getMeasurements(), _this.getSize(), _this.scrollOffset];\n  }, function (measurements, outerSize, scrollOffset) {\n    return _this.range = calculateRange({\n      measurements: measurements,\n      outerSize: outerSize,\n      scrollOffset: scrollOffset\n    });\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.maybeNotify = memo(function () {\n    var range = _this.calculateRange();\n    return [range.startIndex, range.endIndex, _this.isScrolling];\n  }, function () {\n    _this.notify();\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'maybeNotify',\n    debug: function debug() {\n      return _this.options.debug;\n    },\n    initialDeps: [this.range.startIndex, this.range.endIndex, this.isScrolling]\n  });\n  this.getIndexes = memo(function () {\n    return [_this.options.rangeExtractor, _this.calculateRange(), _this.options.overscan, _this.options.count];\n  }, function (rangeExtractor, range, overscan, count) {\n    return rangeExtractor(_extends({}, range, {\n      overscan: overscan,\n      count: count\n    }));\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'getIndexes',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.indexFromElement = function (node) {\n    var attributeName = _this.options.indexAttribute;\n    var indexStr = node.getAttribute(attributeName);\n    if (!indexStr) {\n      console.warn(\"Missing attribute name '\" + attributeName + \"={index}' on measured element.\");\n      return -1;\n    }\n    return parseInt(indexStr, 10);\n  };\n  this._measureElement = function (node, entry) {\n    var _this$itemSizeCache$g;\n    var index = _this.indexFromElement(node);\n    var item = _this.measurementsCache[index];\n    if (!item) {\n      return;\n    }\n    var prevNode = _this.measureElementCache.get(item.key);\n    if (!node.isConnected) {\n      _this.observer.unobserve(node);\n      if (node === prevNode) {\n        _this.measureElementCache[\"delete\"](item.key);\n      }\n      return;\n    }\n    if (prevNode !== node) {\n      if (prevNode) {\n        _this.observer.unobserve(prevNode);\n      }\n      _this.observer.observe(node);\n      _this.measureElementCache.set(item.key, node);\n    }\n    var measuredItemSize = _this.options.measureElement(node, entry, _this);\n    var itemSize = (_this$itemSizeCache$g = _this.itemSizeCache.get(item.key)) != null ? _this$itemSizeCache$g : item.size;\n    var delta = measuredItemSize - itemSize;\n    if (delta !== 0) {\n      if (item.start < _this.scrollOffset) {\n        if (process.env.NODE_ENV !== 'production' && _this.options.debug) {\n          console.info('correction', delta);\n        }\n        _this._scrollToOffset(_this.scrollOffset, {\n          adjustments: _this.scrollAdjustments += delta,\n          behavior: undefined\n        });\n      }\n      _this.pendingMeasuredCacheIndexes.push(index);\n      _this.itemSizeCache = new Map(_this.itemSizeCache.set(item.key, measuredItemSize));\n      _this.notify();\n    }\n  };\n  this.measureElement = function (node) {\n    if (!node) {\n      return;\n    }\n    _this._measureElement(node, undefined);\n  };\n  this.getVirtualItems = memo(function () {\n    return [_this.getIndexes(), _this.getMeasurements()];\n  }, function (indexes, measurements) {\n    var virtualItems = [];\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      var _i3 = indexes[k];\n      var measurement = measurements[_i3];\n      virtualItems.push(measurement);\n    }\n    return virtualItems;\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'getIndexes',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.getVirtualItemForOffset = function (offset) {\n    var measurements = _this.getMeasurements();\n    return notUndefined(measurements[findNearestBinarySearch(0, measurements.length - 1, function (index) {\n      return notUndefined(measurements[index]).start;\n    }, offset)]);\n  };\n  this.getOffsetForAlignment = function (toOffset, align) {\n    var size = _this.getSize();\n    if (align === 'auto') {\n      if (toOffset <= _this.scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= _this.scrollOffset + size) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n    if (align === 'start') {\n      toOffset = toOffset;\n    } else if (align === 'end') {\n      toOffset = toOffset - size;\n    } else if (align === 'center') {\n      toOffset = toOffset - size / 2;\n    }\n    var scrollSizeProp = _this.options.horizontal ? 'scrollWidth' : 'scrollHeight';\n    var scrollSize = _this.scrollElement ? 'document' in _this.scrollElement ? _this.scrollElement.document.documentElement[scrollSizeProp] : _this.scrollElement[scrollSizeProp] : 0;\n    var maxOffset = scrollSize - _this.getSize();\n    return Math.max(Math.min(maxOffset, toOffset), 0);\n  };\n  this.getOffsetForIndex = function (index, align) {\n    if (align === void 0) {\n      align = 'auto';\n    }\n    index = Math.max(0, Math.min(index, _this.options.count - 1));\n    var measurement = notUndefined(_this.getMeasurements()[index]);\n    if (align === 'auto') {\n      if (measurement.end >= _this.scrollOffset + _this.getSize() - _this.options.scrollPaddingEnd) {\n        align = 'end';\n      } else if (measurement.start <= _this.scrollOffset + _this.options.scrollPaddingStart) {\n        align = 'start';\n      } else {\n        return [_this.scrollOffset, align];\n      }\n    }\n    var toOffset = align === 'end' ? measurement.end + _this.options.scrollPaddingEnd : measurement.start - _this.options.scrollPaddingStart;\n    return [_this.getOffsetForAlignment(toOffset, align), align];\n  };\n  this.isDynamicMode = function () {\n    return _this.measureElementCache.size > 0;\n  };\n  this.cancelScrollToIndex = function () {\n    if (_this.scrollToIndexTimeoutId !== null) {\n      clearTimeout(_this.scrollToIndexTimeoutId);\n      _this.scrollToIndexTimeoutId = null;\n    }\n  };\n  this.scrollToOffset = function (toOffset, _temp) {\n    var _ref5 = _temp === void 0 ? {} : _temp,\n      _ref5$align = _ref5.align,\n      align = _ref5$align === void 0 ? 'start' : _ref5$align,\n      behavior = _ref5.behavior;\n    _this.cancelScrollToIndex();\n    if (behavior === 'smooth' && _this.isDynamicMode()) {\n      console.warn('The `smooth` scroll behavior is not fully supported with dynamic size.');\n    }\n    _this._scrollToOffset(_this.getOffsetForAlignment(toOffset, align), {\n      adjustments: undefined,\n      behavior: behavior\n    });\n  };\n  this.scrollToIndex = function (index, _temp2) {\n    var _ref6 = _temp2 === void 0 ? {} : _temp2,\n      _ref6$align = _ref6.align,\n      initialAlign = _ref6$align === void 0 ? 'auto' : _ref6$align,\n      behavior = _ref6.behavior;\n    index = Math.max(0, Math.min(index, _this.options.count - 1));\n    _this.cancelScrollToIndex();\n    if (behavior === 'smooth' && _this.isDynamicMode()) {\n      console.warn('The `smooth` scroll behavior is not fully supported with dynamic size.');\n    }\n    var _this$getOffsetForInd = _this.getOffsetForIndex(index, initialAlign),\n      toOffset = _this$getOffsetForInd[0],\n      align = _this$getOffsetForInd[1];\n    _this._scrollToOffset(toOffset, {\n      adjustments: undefined,\n      behavior: behavior\n    });\n    if (behavior !== 'smooth' && _this.isDynamicMode()) {\n      _this.scrollToIndexTimeoutId = setTimeout(function () {\n        _this.scrollToIndexTimeoutId = null;\n        var elementInDOM = _this.measureElementCache.has(_this.options.getItemKey(index));\n        if (elementInDOM) {\n          var _this$getOffsetForInd2 = _this.getOffsetForIndex(index, align),\n            _toOffset = _this$getOffsetForInd2[0];\n          if (!approxEqual(_toOffset, _this.scrollOffset)) {\n            _this.scrollToIndex(index, {\n              align: align,\n              behavior: behavior\n            });\n          }\n        } else {\n          _this.scrollToIndex(index, {\n            align: align,\n            behavior: behavior\n          });\n        }\n      });\n    }\n  };\n  this.scrollBy = function (delta, _temp3) {\n    var _ref7 = _temp3 === void 0 ? {} : _temp3,\n      behavior = _ref7.behavior;\n    _this.cancelScrollToIndex();\n    if (behavior === 'smooth' && _this.isDynamicMode()) {\n      console.warn('The `smooth` scroll behavior is not fully supported with dynamic size.');\n    }\n    _this._scrollToOffset(_this.scrollOffset + delta, {\n      adjustments: undefined,\n      behavior: behavior\n    });\n  };\n  this.getTotalSize = function () {\n    var _this$getMeasurements;\n    return (((_this$getMeasurements = _this.getMeasurements()[_this.options.count - 1]) == null ? void 0 : _this$getMeasurements.end) || _this.options.paddingStart) - _this.options.scrollMargin + _this.options.paddingEnd;\n  };\n  this._scrollToOffset = function (offset, _ref8) {\n    var adjustments = _ref8.adjustments,\n      behavior = _ref8.behavior;\n    _this.options.scrollToFn(offset, {\n      behavior: behavior,\n      adjustments: adjustments\n    }, _this);\n  };\n  this.measure = function () {\n    _this.itemSizeCache = new Map();\n    _this.notify();\n  };\n  this.setOptions(_opts);\n  this.scrollRect = this.options.initialRect;\n  this.scrollOffset = this.options.initialOffset;\n  this.measurementsCache = this.options.initialMeasurementsCache;\n  this.measurementsCache.forEach(function (item) {\n    _this.itemSizeCache.set(item.key, item.size);\n  });\n  this.maybeNotify();\n};\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\nfunction calculateRange(_ref9) {\n  var measurements = _ref9.measurements,\n    outerSize = _ref9.outerSize,\n    scrollOffset = _ref9.scrollOffset;\n  var count = measurements.length - 1;\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n  var startIndex = findNearestBinarySearch(0, count, getOffset, scrollOffset);\n  var endIndex = startIndex;\n  while (endIndex < count && measurements[endIndex].end < scrollOffset + outerSize) {\n    endIndex++;\n  }\n  return {\n    startIndex: startIndex,\n    endIndex: endIndex\n  };\n}\n\nexport { Virtualizer, defaultKeyExtractor, defaultRangeExtractor, elementScroll, measureElement, observeElementOffset, observeElementRect, observeWindowOffset, observeWindowRect, windowScroll };\n//# sourceMappingURL=index.mjs.map\n","/**\n * react-virtual\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport { extends as _extends } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport * as React from 'react';\nimport { observeElementRect, observeElementOffset, elementScroll, observeWindowRect, observeWindowOffset, windowScroll, Virtualizer } from '@tanstack/virtual-core';\nexport * from '@tanstack/virtual-core';\n\n//\n\nvar useIsomorphicLayoutEffect = typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nfunction useVirtualizerBase(options) {\n  var rerender = React.useReducer(function () {\n    return {};\n  }, {})[1];\n  var resolvedOptions = _extends({}, options, {\n    onChange: function onChange(instance) {\n      rerender();\n      options.onChange == null ? void 0 : options.onChange(instance);\n    }\n  });\n  var _React$useState = React.useState(function () {\n      return new Virtualizer(resolvedOptions);\n    }),\n    instance = _React$useState[0];\n  instance.setOptions(resolvedOptions);\n  React.useEffect(function () {\n    return instance._didMount();\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    return instance._willUpdate();\n  });\n  return instance;\n}\nfunction useVirtualizer(options) {\n  return useVirtualizerBase(_extends({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll\n  }, options));\n}\nfunction useWindowVirtualizer(options) {\n  return useVirtualizerBase(_extends({\n    getScrollElement: function getScrollElement() {\n      return typeof document !== 'undefined' ? window : null;\n    },\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll\n  }, options));\n}\n\nexport { useVirtualizer, useWindowVirtualizer };\n//# sourceMappingURL=index.mjs.map\n","import {\n  HTMLChakraProps,\n  Input,\n  Box,\n  IconButton,\n  chakra,\n  HStack,\n  omitThemingProps,\n  useMultiStyleConfig,\n  StylesProvider,\n  forwardRef,\n  Tag,\n  TagLabel,\n  TagCloseButton,\n  TagProps,\n  StackProps,\n  useStyles,\n  BoxProps,\n  IconButtonProps,\n} from '@chakra-ui/react'\nimport {\n  FC,\n  JSXElementConstructor,\n  memo,\n  ReactNode,\n  useCallback,\n  useMemo,\n} from 'react'\nimport { useVirtualizer } from '@tanstack/react-virtual'\nimport {\n  SelectProvider,\n  useSelect,\n  useSelectButton,\n  useSelectActionGroup,\n  useSelectControl,\n  useSelectInput,\n  useSelectedItem,\n  useSelectItem,\n  useSelectLabel,\n  useSelectList,\n  useSelectedList,\n  UseSelectProps,\n  idFromOption,\n  labelFromValue,\n  SelectedProvider,\n  SelectInputProvider,\n  SelectedListProvider,\n  SelectActionProvider,\n  SelectionVisibilityMode,\n  useClearButton,\n  useId,\n  SelectIdProvider,\n} from './use-select'\n\n// @see https://github.com/chakra-ui/chakra-ui/issues/140\n\nexport type SelectIconButtonProps = Omit<IconButtonProps, 'icon'> & {\n  icon?: JSXElementConstructor<any>\n}\nexport interface SelectItem {\n  value: any\n  label?: string\n}\n\nexport interface SelectProps\n  extends Omit<\n      HTMLChakraProps<'select'>,\n      'value' | 'size' | 'onChange' | 'onSelect' | 'children'\n    >,\n    UseSelectProps {\n  label?: string\n  children?: ReactNode\n}\n\nexport interface SelectControlProps\n  extends Omit<HTMLChakraProps<'select'>, 'size'> {\n  defaultIsOpen?: boolean\n  isLazy?: true\n  closeOnSelect?: false\n  children?: ReactNode\n}\n\nexport type SelectListProps = HTMLChakraProps<'ul'> &\n  Pick<SelectProps, 'size'> & { emptyResultsLabel?: string }\nexport type SelectedListProps = BoxProps & {\n  size?: SelectProps['size']\n  selectedItems?: SelectItem[]\n  value?: string | string[]\n  multi?: boolean\n  selectionVisibleIn?: SelectionVisibilityMode\n  textList?: BoxProps\n}\nexport type SelectLabelProps = HTMLChakraProps<'label'> &\n  Pick<SelectProps, 'size'>\nexport interface SelectActionGroupProps\n  extends StackProps,\n    Pick<SelectProps, 'size'> {\n  size?: SelectProps['size']\n  disabled?: boolean\n  clearButtonProps?: SelectIconButtonProps\n  toggleButtonProps?: SelectIconButtonProps\n}\n\nexport interface SelectOptionItemProps extends HTMLChakraProps<'li'> {\n  highlighted?: boolean\n  label?: string\n  index: number\n  selected?: boolean\n  created?: boolean\n}\n\nexport interface SelectedItemProps extends TagProps, SelectItem {}\n\nexport interface MultiSelectProps extends Omit<SelectProps, 'children'> {\n  children?: ReactNode\n  labelProps?: SelectLabelProps\n  controlProps?: SelectControlProps\n  listProps?: SelectListProps\n  selectedListProps?: SelectedListProps\n  actionGroupProps?: SelectActionGroupProps\n}\n\nexport const ChakraSvg = chakra('svg')\n\nexport const Select = memo<SelectProps>((props) => {\n  const { children } = props\n  const styles = useMultiStyleConfig('MultiSelect', props)\n  const ownProps = omitThemingProps(props as any)\n\n  const selectLabelId = useId()\n  const selectInputId = useId()\n\n  const selectIdContext = useMemo(\n    () => ({\n      selectLabelId,\n      selectInputId,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  const ctx = useSelect(ownProps as any)\n  const context = useMemo(() => ctx, [ctx])\n  const selectInputContext = useMemo(\n    () => ({ getInputProps: ctx.getInputProps }),\n    [ctx.getInputProps]\n  )\n  const selectedContext = useMemo(\n    () => ({ removeValue: ctx.removeValue }),\n    [ctx.removeValue]\n  )\n  const selectedListContext = useMemo(\n    () => ({\n      value: ctx.value,\n      multi: ctx.multi,\n      selectionVisibleIn: ctx.selectionVisibleIn,\n    }),\n    [ctx.value, ctx.multi, ctx.selectionVisibleIn]\n  )\n  const selectActionContext = useMemo(\n    () => ({\n      isOpen: ctx.isOpen,\n      setOpen: ctx.setOpen,\n      clearable: ctx.clearable,\n      clearAll: ctx.clearAll,\n    }),\n    [ctx.isOpen, ctx.setOpen, ctx.clearable, ctx.clearAll]\n  )\n\n  return (\n    <StylesProvider value={styles}>\n      <SelectIdProvider value={selectIdContext}>\n        <SelectProvider value={context}>\n          <SelectInputProvider value={selectInputContext}>\n            <SelectedListProvider value={selectedListContext}>\n              <SelectedProvider value={selectedContext}>\n                <SelectActionProvider value={selectActionContext}>\n                  <chakra.div\n                    pos='relative'\n                    display='flex'\n                    flexDirection='column'\n                  >\n                    {children}\n                  </chakra.div>\n                </SelectActionProvider>\n              </SelectedProvider>\n            </SelectedListProvider>\n          </SelectInputProvider>\n        </SelectProvider>\n      </SelectIdProvider>\n    </StylesProvider>\n  )\n})\nSelect.displayName = 'Select'\n\nexport const SelectLabel = memo<SelectLabelProps>((props) => {\n  const labelProps = useSelectLabel(props)\n\n  return <chakra.label {...props} {...labelProps} />\n})\nSelectLabel.displayName = 'SelectLabel'\n\nexport const SelectOptionLabel = memo<\n  StackProps & { label: string; created?: boolean }\n>(({ label, created }) => (\n  <HStack justifyContent='space-between' w='full'>\n    <Box>{label}</Box>\n    {!!created && (\n      <Tag flexShrink={0}>\n        <TagLabel fontSize='xs' fontWeight='bold'>\n          New\n        </TagLabel>\n      </Tag>\n    )}\n  </HStack>\n))\nSelectOptionLabel.displayName = 'SelectOptionLabel'\n\nexport const SelectOptionItem = memo<SelectOptionItemProps>(\n  ({ value, label, index, selected, created, ...props }) => {\n    const { highlightedRef, option, multi, ...itemProps } = useSelectItem({\n      value,\n      label,\n      index,\n      selected,\n    })\n\n    return (\n      <chakra.li\n        ref={highlightedRef && highlightedRef}\n        role='option'\n        {...((selected || multi) && { 'aria-selected': !!selected })}\n        {...props}\n        {...itemProps}\n      >\n        <SelectOptionLabel label={option?.label || value} created={!!created} />\n      </chakra.li>\n    )\n  }\n)\nSelectOptionItem.displayName = 'SelectOptionItem'\n\nexport type SelectOptionVirtualItemProps = {\n  index: number\n  start: number\n  size: number\n  item: SelectItem\n  optionItemProps: (value: any, index: number) => any\n}\n\nexport const SelectOptionVirtualItem = memo<SelectOptionVirtualItemProps>(\n  ({ index, size, start, item, optionItemProps, ...rest }: any) => {\n    return (\n      <SelectOptionItem\n        {...optionItemProps(item.value, index)}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: `${size}px`,\n          transform: `translateY(${start}px)`,\n        }}\n        selected={item.selected}\n        created={item.created}\n        label={item.label}\n        {...rest}\n      />\n    )\n  }\n)\nSelectOptionVirtualItem.displayName = 'SelectOptionVirtualItem'\n\nexport const EmptySelectResults = memo<{ label?: string }>(\n  ({ label = 'No results found' }) => {\n    const styles = useStyles()\n    return (\n      <chakra.li __css={styles.item}>\n        <SelectOptionLabel label={label} />\n      </chakra.li>\n    )\n  }\n)\nEmptySelectResults.displayName = 'EmptySelectResults'\n\nexport const SelectList = memo<SelectListProps>((props) => {\n  const {\n    __css,\n    visibleOptions,\n    isOpen,\n    getOption,\n    ref: listRef,\n    optionsRef: parentRef,\n    ...listProps\n  } = useSelectList()\n\n  const dropdownVisible = isOpen\n  const optionItemProps = useCallback((option: string, index: number) => {\n    const optionItem = getOption(option) as any\n    return {\n      key: optionItem.id || idFromOption(optionItem, 'option-'),\n      value: optionItem.value,\n      label: optionItem.label || labelFromValue(optionItem.value),\n      selected: optionItem.selected,\n      created: optionItem.created,\n      index,\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const estimatedSize = useMemo(() => {\n    if (props.size === 'lg') return 43\n    if (props.size === 'sm') return 29\n    return 40\n  }, [props.size])\n\n  // Virtualize the list data\n  const rowVirtualizer = useVirtualizer({\n    count: visibleOptions.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => estimatedSize,\n  })\n\n  return (\n    <chakra.ul\n      ref={listRef}\n      __css={useMemo(\n        () => ({\n          listStyle: 'none',\n          position: 'absolute',\n          ...(!dropdownVisible && { display: 'none' }),\n          ...__css,\n        }),\n        [dropdownVisible, __css]\n      )}\n      aria-orientation='vertical'\n      role='listbox'\n      {...listProps}\n      {...props}\n    >\n      {dropdownVisible && visibleOptions.length > 0 ? (\n        <div\n          style={{\n            height: `${rowVirtualizer.getTotalSize()}px`,\n            width: '100%',\n            position: 'relative',\n          }}\n        >\n          {rowVirtualizer.getVirtualItems().map((virtualItem: any) => (\n            <SelectOptionVirtualItem\n              key={virtualItem.key}\n              optionItemProps={optionItemProps}\n              item={visibleOptions[virtualItem.index]}\n              index={virtualItem.index}\n              size={virtualItem.size}\n              start={virtualItem.start}\n            />\n          ))}\n        </div>\n      ) : dropdownVisible ? (\n        <EmptySelectResults label={props.emptyResultsLabel} />\n      ) : null}\n    </chakra.ul>\n  )\n})\nSelectList.displayName = 'SelectList'\n\nconst SelectToggleIcon: FC<HTMLChakraProps<'svg'> & { isActive?: boolean }> = ({\n  isActive,\n  width = 4,\n  height = 4,\n  __css,\n  ...props\n}) => (\n  <ChakraSvg\n    viewBox='0 0 24 24'\n    stroke='currentColor'\n    fill='none'\n    width={width}\n    height={height}\n    __css={{\n      ...__css,\n      ...(isActive && ((__css as any)?._active as any)),\n    }}\n    {...props}\n  >\n    <path\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      strokeWidth='2'\n      d='M19 9l-7 7-7-7'\n    />\n  </ChakraSvg>\n)\n\nconst SelectClearIcon: FC<HTMLChakraProps<'svg'> & { isActive?: boolean }> = ({\n  width = 4,\n  height = 4,\n  ...props\n}) => (\n  <ChakraSvg\n    viewBox='0 0 24 24'\n    stroke='currentColor'\n    fill='none'\n    width={width}\n    height={height}\n    {...props}\n  >\n    <path\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      strokeWidth='2'\n      d='M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z'\n    />\n  </ChakraSvg>\n)\n\nexport const SelectInput = memo<Pick<SelectProps, 'size' | 'disabled'>>(\n  (props) => {\n    const inputProps = useSelectInput(props)\n\n    return <chakra.input {...inputProps} />\n  }\n)\nSelectInput.displayName = 'SelectInput'\n\nexport const SelectedItem = memo<SelectedItemProps>(\n  ({ value: _value, label: _label, ...props }) => {\n    const { onClick, __css, value, label, ...itemProps } = useSelectedItem({\n      value: _value,\n      label: _label || '',\n      key: props.key || ('' as any),\n      ...props,\n    })\n\n    const tagSizeProps =\n      {\n        sm: {\n          fontSize: 'sm',\n        },\n        md: {\n          fontSize: 'md',\n        },\n        lg: {\n          fontSize: 'lg',\n        },\n      }[props.size || ('md' as any)] || {}\n\n    return (\n      <Tag\n        size={props.size}\n        {...tagSizeProps}\n        {...(__css as any)}\n        {...itemProps}\n        role='listitem'\n      >\n        <TagLabel>{label || value}</TagLabel>\n        <TagCloseButton onClick={onClick} />\n      </Tag>\n    )\n  }\n)\nSelectedItem.displayName = 'SelectedItem'\n\nexport const SelectToggleButton = memo<IconButtonProps>((props) => {\n  const {\n    __css,\n    size = 'sm',\n    ariaLabel = 'toggle menu',\n    icon: Icon = SelectToggleIcon,\n    isOpen,\n    ...buttonProps\n  } = useSelectButton(props)\n\n  const sizeProps =\n    {\n      sm: {\n        height: '6',\n        width: '6',\n      },\n      md: {\n        height: '8',\n        width: '8',\n      },\n      lg: {\n        height: '10',\n        width: '10',\n      },\n    }[size] || {}\n\n  return (\n    <IconButton\n      tabIndex={0}\n      size={size}\n      aria-label={ariaLabel}\n      aria-haspopup={true}\n      aria-expanded={!props.disabled && isOpen}\n      icon={\n        <Icon\n          isActive={!props.disabled && isOpen}\n          __css={\n            !props.disabled\n              ? {\n                  transitionDuration: '200ms',\n                  transitionProperty: 'transform',\n                  _active: { transform: 'rotate(180deg)' },\n                }\n              : undefined\n          }\n        />\n      }\n      minWidth={0}\n      {...sizeProps}\n      {...__css}\n      {...buttonProps}\n    />\n  )\n})\nSelectToggleButton.displayName = 'SelectToggleButton'\n\nexport const SelectClearButton = memo<IconButtonProps>((props) => {\n  const {\n    __css,\n    size = 'sm',\n    ariaLabel = 'clear all selected',\n    icon: Icon = SelectClearIcon,\n    ...buttonProps\n  } = useClearButton(props)\n\n  const sizeProps =\n    {\n      sm: {\n        height: '6',\n        width: '6',\n      },\n      md: {\n        height: '8',\n        width: '8',\n      },\n      lg: {\n        height: '10',\n        width: '10',\n      },\n    }[size] || {}\n\n  return (\n    <IconButton\n      tabIndex={0}\n      size={size}\n      aria-label={ariaLabel}\n      icon={<Icon />}\n      minWidth={0}\n      {...sizeProps}\n      {...__css}\n      {...buttonProps}\n    />\n  )\n})\nSelectClearButton.displayName = 'SelectClearButton'\n\nexport const SelectedList = memo<SelectedListProps>(\n  ({ children, ...props }) => {\n    const {\n      __css,\n      textList,\n      selectedItems,\n      multi,\n      selectionVisibleIn,\n      ...selectedListProps\n    } = useSelectedList(props)\n\n    const shownAsTagList =\n      multi && selectionVisibleIn !== SelectionVisibilityMode.List\n    const shownAsText =\n      multi && selectionVisibleIn === SelectionVisibilityMode.List\n\n    return (\n      <Box\n        {...__css}\n        {...(selectedListProps as any)}\n        {...(shownAsTagList ? { role: 'list' } : null)}\n      >\n        {shownAsTagList &&\n          selectedItems?.map(\n            (selectedItem: { value: string; label?: string }) => (\n              <SelectedItem\n                size={props.size}\n                key={`selected-item-${selectedItem.value}`}\n                value={selectedItem.value}\n                label={selectedItem.label}\n              />\n            )\n          )}\n        {shownAsText && !!selectedItems?.length && (\n          <Box aria-current='true' {...(textList?.__css as any)}>\n            {selectedItems\n              ?.map(({ label }: { value: string; label: string }) => label)\n              .join(', ')}\n          </Box>\n        )}\n        {children}\n      </Box>\n    )\n  }\n)\nSelectedList.displayName = 'SelectedList'\n\nexport const SelectActionGroup = memo<SelectActionGroupProps>((props) => {\n  const {\n    __css,\n    clearable,\n    clearOnClick,\n    clearButtonProps,\n    toggleButtonProps,\n    ...toggleActionProps\n  } = useSelectActionGroup(props)\n\n  return (\n    <HStack {...__css} {...toggleActionProps}>\n      {clearable && (\n        <SelectClearButton\n          size={props.size}\n          onClick={clearOnClick}\n          {...clearButtonProps}\n        />\n      )}\n      <SelectToggleButton\n        size={props.size}\n        disabled={props.disabled}\n        {...toggleButtonProps}\n      />\n    </HStack>\n  )\n})\nSelectActionGroup.displayName = 'SelectActionGroup'\n\nexport const SelectControl = forwardRef<SelectControlProps, 'div'>(\n  ({ children, ...props }, ref) => {\n    const { ref: controlRef, __css } = useSelectControl({ ref })\n\n    return (\n      <Input ref={controlRef} as={HStack} {...__css} {...props}>\n        {children}\n      </Input>\n    )\n  }\n)\n\nexport const MultiSelect: FC<MultiSelectProps> = ({\n  label,\n  labelProps,\n  controlProps,\n  listProps,\n  selectedListProps,\n  actionGroupProps,\n  size = 'md',\n  ...props\n}) => {\n  return (\n    <Select size={size} {...props}>\n      {label && (\n        <SelectLabel size={size} {...labelProps}>\n          {label}\n        </SelectLabel>\n      )}\n      <SelectControl size={size} disabled={props.disabled} {...controlProps}>\n        <SelectedList size={size} {...selectedListProps}>\n          <SelectInput size={size} disabled={props.disabled} />\n        </SelectedList>\n        <SelectActionGroup\n          size={size}\n          disabled={props.disabled}\n          {...actionGroupProps}\n        />\n      </SelectControl>\n      <SelectList size={size} {...listProps} />\n    </Select>\n  )\n}\n"],"names":["props","bg","mode","boxShadow","color","w","py","zIndex","borderRadius","borderWidth","maxH","overflowY","overscrollBehaviorY","baseStyleSelectedList","display","flex","flexWrap","alignItems","baseStyleLabel","textAlign","baseStyleItem","cursor","transition","_focus","_active","_expanded","_selected","_disabled","opacity","baseStyleSelectedItem","variant","colorscheme","baseStyleButton","_hover","h","minW","pr","baseStyleActionGroup","fontWeight","border","borderColor","my","defaultProps","size","parts","sizes","sm","control","minH","spacing","input","p","actionGroup","list","fontSize","item","px","textList","selectedItem","m","selectedList","groupTitle","mx","md","lg","baseStyle","baseStyleList","button","baseStyleControl","bgColor","appearance","outline","baseStyleGroupTitle","divider","baseStyleDivider","label","t","nodeType","e","n","clientHeight","scrollHeight","clientWidth","scrollWidth","r","getComputedStyle","overflowX","ownerDocument","defaultView","frameElement","i","o","l","d","ChangeActions","SelectActions","_excluded","_excluded2","_excluded3","_excluded4","SelectionVisibilityMode","defaultMultiValue","defaultOptions","initialState","searchValue","resolvedSearchValue","isOpen","highlightedIndex","defaultStateReducer","_","newState","inputRef","optionsRef","enabledRef","current","node","optionsNode","window","scrollMode","block","u","inline","boundary","a","skipOverflowHiddenElements","c","TypeError","f","document","scrollingElement","documentElement","s","parentElement","push","body","visualViewport","width","innerWidth","g","height","innerHeight","scrollX","pageXOffset","v","scrollY","pageYOffset","W","getBoundingClientRect","b","H","y","top","E","right","M","bottom","V","left","x","I","C","T","length","k","B","D","O","R","X","Y","L","S","j","parseInt","borderLeftWidth","q","borderTopWidth","z","borderRightWidth","A","borderBottomWidth","F","G","J","offsetWidth","K","offsetHeight","Math","max","N","scrollLeft","P","scrollTop","min","el","computeScrollIntoView","actions","forEach","_ref","scrollIntoView","labelFromValue","value","charAt","toUpperCase","substring","idFromOption","option","prefix","defaultGetOption","defaultGetDebounce","options","getOption","filter","toString","toLowerCase","includes","sort","indexOf","updateReducerState","state","newValue","key","_extends3","_extends2","_extends","_createContext","createContext","strict","name","SelectProvider","useSelectContext","SelectInputProvider","_createContext2","useSelectInputContext","_createContext3","SelectedProvider","useSelectedContext","SelectedListProvider","_createContext4","useSelectedListContext","SelectActionProvider","useSelectActionContext","_createContext5","_createContext6","SelectIdProvider","useSelectIdContext","useSelect","_ref3","create","_ref3$create","single","_ref3$single","disabled","_ref3$disabled","_ref3$selectionVisibl","selectionVisibleIn","Input","getDebounce","_ref3$getDebounce","_ref3$getOption","stateReducer","filterFn","_ref3$filterFn","defaultFilterFn","scrollToIndex","defaultScrollToIndex","_ref3$scrollToIndex","_ref3$shiftAmount","shiftAmount","duplicates","onChange","placement","_ref3$placement","placeholder","searchPlaceholder","useHoistedState","reducer","reducerRef","useRef","_useState","useState","_setState","useCallback","updater","action","Error","old","_useHoistedState$","_useHoistedState","setState","hasMultiSelection","multi","Array","isArray","optionsItemsRef","onBlurRef","onChangeRef","filterFnRef","scrollToIndexRef","highlightedIndexRef","highlightedValueRef","enableScrollRef","popper","usePopper","originalOptions","useMemo","_options2","map","selected","_ref4","some","_options3","_value2","selectedOption","val","find","created","valueRef","userKeys","setOpen","newIsOpen","SetOpen","Close","setResolvedSearch","fn","time","ref","fnRef","SetSearch","useEffect","clearTimeout","_arguments","arguments","Promise","resolve","reject","setTimeout","slice","call","err","useDebounce","_options","HighlightIndex","selectIndex","index","_selectedOption","_value","MultiCreate","MultiSelect","SingleCreate","SingleSelect","setSearch","clearAll","MultiClear","SingleClear","removeValue","isIndex","_multi","_v","_next","MultiRemove","SingleRemove","handleSearchValueChange","target","Open","ArrowUp","defaultShift","defaultMeta","_ref5","shift","meta","preventDefault","highlightIndex","amount","ArrowDown","_ref6","Enter","Backspace","lastValue","getKeyProps","PageUp","PageDown","Home","End","Escape","Tab","_temp","_ref2","onKeyDown","_objectWithoutPropertiesLoose","keyCode","handler","shiftKey","metaKey","getInputProps","_temp2","_extends4","_ref7","_ref7$refKey","refKey","onFocus","onClick","onBlur","rest","undefined","handleSearchClick","persist","cb","event","getOptionProps","_temp3","_ref8","_ref8$key","onMouseEnter","enable","dropdownRef","controlRef","localDropdownRef","localControlRef","elControlRef","handle","type","elControl","elDropdown","elDropdownRef","contains","addEventListener","removeEventListener","useClickOutsideRef","_onBlurRef$current","_onBlurRef$current2","_inputRef$current","focus","clearable","visibleOptions","useSelectActionGroup","_useSelectActionConte","styles","useStyles","stopPropagation","clearOnClick","__css","_useSelectIdContext","selectLabelId","selectInputId","useMultiStyleConfig","field","id","useSelectLabel","labelStyles","htmlFor","useSelectButton","_useSelectActionConte2","_ref10","useClearButton","useSelectedItem","_temp4","_ref11","_useSelectContext","highlightedRef","highlighted","_ref12","_ref13","useSelectList","_useSelectContext2","mergeRefs","popperRef","useSelectedList","_useSelectedListConte","selectedItems","_inputStyles$field","_inputStyles$field2","_useSelectContext4","inputStyles","referenceRef","_focusWithin","_focusVisible","uid","chars","result","floor","random","idRef","Object","assign","bind","source","prototype","hasOwnProperty","apply","this","memo","getDeps","opts","_opts$initialDeps","deps","initialDeps","depTime","debug","Date","now","resultTime","newDeps","dep","depEndTime","round","resultEndTime","resultFpsPercentage","pad","str","num","String","console","info","notUndefined","msg","defaultKeyExtractor","defaultRangeExtractor","range","start","startIndex","overscan","end","endIndex","count","arr","_i","observeElementRect","instance","element","scrollElement","rect","observer","ResizeObserver","entries","entry","borderBoxSize","box","inlineSize","blockSize","observe","unobserve","observeElementOffset","horizontal","passive","measureElement","elementScroll","offset","_instance$scrollEleme3","_instance$scrollEleme4","_ref2$adjustments","adjustments","behavior","scrollTo","Virtualizer","_opts","_ro","get","_this","unsubs","isScrolling","isScrollingTimeoutId","scrollToIndexTimeoutId","measurementsCache","itemSizeCache","Map","pendingMeasuredCacheIndexes","scrollDirection","scrollAdjustments","measureElementCache","_measureElement","disconnect","_get","_get2","_get3","setOptions","initialOffset","paddingStart","paddingEnd","scrollPaddingStart","scrollPaddingEnd","getItemKey","rangeExtractor","initialRect","scrollMargin","scrollingDelay","indexAttribute","initialMeasurementsCache","lanes","notify","cleanup","Boolean","_didMount","_willUpdate","getScrollElement","_scrollToOffset","scrollOffset","prev","scrollRect","maybeNotify","getSize","memoOptions","getFurthestMeasurement","measurements","furthestMeasurementsFound","furthestMeasurements","measurement","has","lane","previousFurthestMeasurement","set","from","values","getMeasurements","_i2","furthestMeasurement","measuredSize","estimateSize","process","env","NODE_ENV","calculateRange","outerSize","_ref9","findNearestBinarySearch","getIndexes","indexFromElement","attributeName","indexStr","getAttribute","warn","_this$itemSizeCache$g","prevNode","isConnected","measuredItemSize","delta","getVirtualItems","indexes","virtualItems","len","getVirtualItemForOffset","getOffsetForAlignment","toOffset","align","scrollSizeProp","maxOffset","getOffsetForIndex","isDynamicMode","cancelScrollToIndex","scrollToOffset","_ref5$align","_ref6$align","initialAlign","_this$getOffsetForInd","_this$getOffsetForInd2","abs","scrollBy","getTotalSize","_this$getMeasurements","scrollToFn","measure","low","high","getCurrentValue","middle","currentValue","useIsomorphicLayoutEffect","React","useLayoutEffect","ChakraSvg","chakra","Select","children","omitThemingProps","useId","selectIdContext","ctx","ownProps","context","selectInputContext","selectedContext","selectedListContext","selectActionContext","_jsx","StylesProvider","jsx","div","pos","flexDirection","displayName","SelectLabel","labelProps","SelectOptionLabel","_jsxs","jsxs","HStack","justifyContent","Box","Tag","flexShrink","TagLabel","SelectOptionItem","useSelectItem","_useSelectItem","itemProps","li","role","SelectOptionVirtualItem","optionItemProps","style","position","transform","EmptySelectResults","_ref4$label","SelectList","rerender","resolvedOptions","_useSelectList","listRef","parentRef","listProps","optionItem","estimatedSize","rowVirtualizer","useReducer","ul","listStyle","dropdownVisible","virtualItem","emptyResultsLabel","SelectToggleIcon","isActive","_ref5$width","_ref5$height","viewBox","stroke","fill","strokeLinecap","strokeLinejoin","strokeWidth","SelectClearIcon","_ref6$width","_ref6$height","SelectInput","inputProps","useSelectInput","SelectedItem","_label","_excluded7","_useSelectedItem","_excluded8","TagCloseButton","SelectToggleButton","_useSelectButton","_useSelectButton$size","ariaLabel","_useSelectButton$aria","icon","Icon","buttonProps","_excluded9","sizeProps","IconButton","tabIndex","transitionDuration","transitionProperty","minWidth","SelectClearButton","_useClearButton","_useClearButton$size","_useClearButton$ariaL","_useClearButton$icon","_excluded10","SelectedList","_useSelectedList","selectedListProps","_excluded12","shownAsTagList","List","shownAsText","join","SelectActionGroup","_useSelectActionGroup","clearButtonProps","toggleButtonProps","toggleActionProps","SelectControl","forwardRef","_excluded14","_useSelectControl","useSelectControl","as","controlProps","actionGroupProps","_ref11$size","_excluded15","useMultiSelect","setValue","_useState2","_useState3","setNextValue","change","next","opt","_o","concat"],"mappings":"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"}